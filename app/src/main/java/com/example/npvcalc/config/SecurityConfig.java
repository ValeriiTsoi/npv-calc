package com.example.npvcalc.config; import com.example.npvcalc.security.*; import org.springframework.context.annotation.*; import org.springframework.security.config.annotation.web.builders.*; import org.springframework.security.config.http.*; import org.springframework.security.web.*; import org.springframework.security.web.authentication.*; @Configuration public class SecurityConfig { private final TokenAuthFilter tokenAuthFilter; public SecurityConfig(TokenAuthFilter f){this.tokenAuthFilter=f;} @Bean public SecurityFilterChain filterChain(HttpSecurity http) throws Exception { http.csrf(csrf->csrf.disable()).sessionManagement(sm->sm.sessionCreationPolicy(SessionCreationPolicy.STATELESS)).authorizeHttpRequests(a->a.requestMatchers("/auth/login","/actuator/health").permitAll().anyRequest().authenticated()); http.addFilterBefore(tokenAuthFilter, UsernamePasswordAuthenticationFilter.class); return http.build(); } }